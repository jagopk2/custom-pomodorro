(this["webpackJsonpag-grid-pomodoro"]=this["webpackJsonpag-grid-pomodoro"]||[]).push([[0],{62:function(e,t,o){},63:function(e,t,o){},72:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),c=o(46),i=o.n(c),a=(o(62),o(63),o(11)),s=o(8),u=o(19),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.group(t.type),console.log("dispatching: ",t),console.groupEnd(t.type),t.type){case"started_timer":return{tasks:e.tasks.map((function(e){return e.id!==t.id?e:Object(a.a)(Object(a.a)({},e),{},{timerStarted:!0})})),activeTaskId:t.id};case"stopped_timer":return Object(a.a)(Object(a.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id!==t.id?e:Object(a.a)(Object(a.a)({},e),{},{timerStarted:!1,timeLeft:t.timeLeft})}))});case"added_task":return Object(a.a)(Object(a.a)({},e),{},{tasks:[].concat(Object(u.a)(e.tasks),[{id:t.id,task:t.task,taskNo:t.taskNo,taskCount:t.taskCount,timerStarted:!1,completed:!1,timeLeft:1500}])});case"deleted_task":return{tasks:e.tasks.filter((function(e){return e.id!==t.id})),activeTaskId:-1};case"completed_task":return Object(a.a)(Object(a.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id!==t.id?e:Object(a.a)(Object(a.a)({},e),{},{completed:!0,timerStarted:!1,timeLeft:0})}))});case"resetted_active_task":return Object(a.a)(Object(a.a)({},e),{},{activeTaskId:-1});default:return e}},f=o(1),j=Object(n.createContext)(),b={tasks:[],activeTaskId:-1},m=function(e){var t=JSON.parse(localStorage.getItem("gridState"));return t||e},l=function(e){var t=e.children,o=Object(n.useReducer)(d,b,m),r=Object(s.a)(o,2),c=r[0],i=r[1],a=c.tasks,u=c.activeTaskId;return Object(f.jsx)(j.Provider,{value:{tasks:a,dispatch:i,activeTaskId:u},children:t})},O=o(93),p=o(95),v=o(91),h=Object(n.memo)((function(e){var t=e.timerStarted,o=e.pomodoroType,r=e.setPomodoroType,c=Object(n.useState)(!1),i=Object(s.a)(c,2),a=i[0],u=i[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(O.a,{sx:{"& .MuiToggleButton-root":{color:"white !important"}},value:o,exclusive:!0,onChange:function(e,o){if(o)return t?(u(!0),void setTimeout((function(){u(!1)}),3e3)):void r(o)},children:[Object(f.jsx)(p.a,{value:"pomodoro",children:"Pomodoro"}),Object(f.jsx)(p.a,{value:"revision",children:"Revision"}),Object(f.jsx)(p.a,{value:"short_break",children:"Short Break"}),Object(f.jsx)(p.a,{value:"long_break",children:"Long Break"})]}),a&&Object(f.jsx)(v.a,{severity:"warning",children:"Please stop the timer before clicking an action."})]})})),k=Object(n.memo)((function(e){var t=e.pomodosroType,o=e.theme,n=e.task,r="pomodoro"===t,c="revision"===t,i=r?"\ud83d\udccc":c?"\ud83d\udcda":"\ud83d\udd7a",a=r?n?"Working on ".concat(n):"Time to focus!":c?"Time to revise!":"Time for a break!";return Object(f.jsxs)("div",{className:"task-container",children:[Object(f.jsx)("span",{children:i}),Object(f.jsxs)("span",{style:{color:o.background},children:[a,n&&r&&Object(f.jsx)("div",{style:{fontWeight:"normal",fontSize:20},children:n})]})]})}));function g(e,t){return e.toString().padStart(t,"0")}var x=function(e,t,o){var r=Object(n.useState)(t),c=Object(s.a)(r,2),i=c[0],a=c[1];return Object(n.useEffect)((function(){var t;return e&&(0===i?o():i>0&&(t=setInterval((function(){a(i-1)}),1e3))),function(){t&&clearInterval(t)}}),[e,i,o]),[i,a]},S=o(94),T=o(53),y=o.n(T),_=o(52),N=o.n(_),L=o.p+"static/media/motivation1.76cc0618.mp3",C=o.p+"static/media/wn.aef8018f.mp3",w=Object(n.memo)((function(e){var t,o=e.pomodoroType,r=e.buttonColor,c=e.timerStarted,i=e.setTimerStarted,a=e.id,u=e.timeLeft,d=e.seconds,b=Object(n.useContext)(j).dispatch,m=Object(n.useContext)(B),l=m.short,O=m.long,p=m.study,v=m.revise,h=m.whiteNoise,k=m.motivation,x=Object(n.useState)(null),T=Object(s.a)(x,2),_=T[0],w=T[1],I=new Date;Object(n.useEffect)((function(){i(!1),_&&(_.pause(),_.currentTime=0)}),[o]),"pomodoro"===o?t=u||p:"short_break"===o?t=l:"long_break"===o?t=O:"revision"===o&&(t=v),I.setMinutes(I.getMinutes()+Math.round(t/60));var E=function(e){var t=[e.getHours(),g(e.getMinutes(),2)].join(":");return t+(e.getHours()>=12?"pm":"am")}(I);return Object(f.jsxs)("div",{className:"end-timer-container",children:[Object(f.jsx)(S.a,{disableElevation:!0,sx:{color:r},onClick:function(){if(console.log(_,c),_&&(_.pause(),_.currentTime=0),c)_&&_.pause();else if("pomodoro"!==o&&"revision"!==o||!h){if("short_break"===o&&k){var e=new Audio(L);w(e),e.play()}}else{var t=new Audio(C);w(t),t.play()}-1!==a&&b(c?{type:"stopped_timer",id:a,timeLeft:d}:{type:"started_timer",id:a}),i(!c)},variant:"contained",startIcon:c?Object(f.jsx)(N.a,{fontSize:"medium"}):Object(f.jsx)(y.a,{fontSize:"medium"}),children:c?"STOP":"START"}),Object(f.jsxs)("span",{children:["end time",Object(f.jsx)("span",{children:E})]})]})})),I=o.p+"static/media/ring.10c62103.mp3",E=Object(n.memo)((function(e){var t=e.pomodoroType,o=e.theme,r=e.timeLeft,c=e.id,i=e.timerStarted,a=Object(n.useState)(i),u=Object(s.a)(a,2),d=u[0],j=u[1],b=Object(n.useCallback)((function(){j(!1)}),[]),m=x(d,r,b),l=Object(s.a)(m,2),O=l[0],p=l[1];Object(n.useEffect)((function(){j(i)}),[i]),Object(n.useEffect)((function(){p(r)}),[c,r,p]),Object(n.useEffect)((function(){0===O&&v("Timer Finished","Time's for ".concat(t," up!"))}),[O]);var v=function(e,t){new Audio(I).play(),"Notification"in window&&Notification.requestPermission().then((function(o){if("granted"===o){var n=new Notification(e,{body:t,icon:"/path/to/notification-icon.png",volume:0});setTimeout((function(){n.close()}),5e3)}}))},h=function(e){var t=g(e%60,2);return[g(Math.floor(e/60),2),t].join(":")}(O);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"timer-label",children:h}),Object(f.jsx)(w,{buttonColor:o.background,timerStarted:d,setTimerStarted:function(e){return j(e)},id:c,timeLeft:r,seconds:O,pomodoroType:t})]})})),P=o.p+"static/media/walpaper.e4a54560.jpg",F={id:-1,timeLeft:1500,timerStarted:!1},M=Object(n.memo)((function(e){var t=Object(n.useContext)(j),o=t.activeTaskId,r=t.tasks,c=t.dispatch,i=Object(n.useState)(F),u=Object(s.a)(i,2),d=u[0],b=u[1],m=Object(n.useState)("pomodoro"),l=Object(s.a)(m,2),O=l[0],p=l[1],v=d.timeLeft,g=d.id,x=d.task,S=d.taskNo,T=d.taskCount,y=d.timerStarted,_=d.completed,N=e.themes,L=Object(n.useContext)(B),C=L.short,w=L.long,I=L.study,M=L.revise;return console.log(e),Object(n.useEffect)((function(){-1!==o&&b(r.filter((function(e){return e.id===o}))[0])}),[o,r]),Object(n.useEffect)((function(){_&&p("short_break")}),[_]),Object(n.useEffect)((function(){!g||-1===g||"long_break"!==O&&"short_break"!==O&&"revision"!==O||(c({type:"resetted_active_task"}),b(F))}),[O,g,c]),Object(n.useEffect)((function(){-1===g&&("pomodoro"===O?b((function(e){return Object(a.a)(Object(a.a)({},e),{},{timeLeft:I})})):"short_break"===O?b((function(e){return Object(a.a)(Object(a.a)({},e),{},{timeLeft:C})})):"long_break"===O?b((function(e){return Object(a.a)(Object(a.a)({},e),{},{timeLeft:w})})):"revision"===O&&b((function(e){return Object(a.a)(Object(a.a)({},e),{},{timeLeft:M})})))}),[O,g]),Object(n.useEffect)((function(){-1!==o&&p("pomodoro")}),[o]),Object(f.jsx)("div",{className:"main-task-background",style:{backgroundImage:"url(".concat(P,")")},children:Object(f.jsxs)("div",{className:"main-task-container",children:[Object(f.jsx)(h,{timerStarted:y,pomodoroType:O,setPomodoroType:function(e){return p(e)}}),Object(f.jsx)(k,{pomodosroType:O,id:g,theme:N[O],task:x?"".concat(x," (").concat(S,"/").concat(T,")"):void 0}),Object(f.jsx)(E,{timeLeft:v,id:g,timerStarted:y,pomodoroType:O,theme:N[O]})]})})})),q=(o(54),o(69)),B=r.a.createContext(),J={study:1500,short:300,long:900,revise:301,bell:!0,notification:!0,whiteNoise:!0,motivation:!0,quotes:!0},R=function(){Object(n.useRef)(null);var e=Object(n.useMemo)((function(){return{pomodoro:{foreground:"#ffffff",background:"#d95550"},short_break:{foreground:"#ffffff",background:"#019b3c"},long_break:{foreground:"#ffffff",background:"#ab47bc"},completed:{foreground:"#ffffff",background:"#4caf50"},revision:{foreground:"#ffffff",background:"#b25701"}}}),[]),t=JSON.parse(localStorage.getItem("timerValues")),o=t||J;Object(n.useEffect)((function(){t||localStorage.setItem("timerValues",JSON.stringify(J))}),[]);var r=q.getRandomQuote();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(B.Provider,{value:o,children:[Object(f.jsx)(l,{children:Object(f.jsx)(M,{themes:e})}),Object(f.jsx)("div",{className:"quote-container",children:Object(f.jsxs)("div",{className:"quote",children:[Object(f.jsx)("p",{children:Object(f.jsx)("q",{children:r.text})}),Object(f.jsx)("div",{className:"author",children:r.author})]})})]})})},A=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,96)).then((function(t){var o=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;o(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root")),A()}},[[72,1,2]]]);
//# sourceMappingURL=main.c8cb3e67.chunk.js.map